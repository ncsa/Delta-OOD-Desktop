# Batch Connect app configuration file
#
---
cluster: 
  - 'magnus'

# Define attribute values that aren't meant to be modified by the user within
# the Dashboard form
attributes:

# specify widgets for user modifiable job settings
 
  bc_reservation:
    label: "Name of reservation (leave empty if none)"
    widget: "text_field"
    value: ""

  bc_image:
    label: "Container image to use"
    widget: "select"
    options:
      # - ["desktop-base","/sw/oodimages/desktop-base.sif"]
      - ["desktop-rhel8.10-cuda130-py39","/usr/local/oodimages/desktop/desktop-rhel8.10-cuda130-py39-20251105.sif"]

  bc_partition:
    label: "Partition"
    widget: "select"
    value: "magnus"
    help: "Interactive partitions are limited to one hour."
    options:
      - ["magnus","magnus"]
      - ["debug","debug"]
      - ["himem","himem"]
      - ["gpu","gpu"]

  bc_num_cores:
    label: "Number of CPUs"
    widget: "number_field"
    min: "1"

  bc_num_memory:
    label: "Amount of RAM"
    widget: "text_field"
    help: "Use Slurm format, e.g., 4096M, 10G. A minimum of 10GB RAM is recommended. If left blank, 4505 MB will be allocated per CPU core requested, but a minimum of 6GB is required and will be ensured."

  bc_num_gpus:
    label: "Number of GPUs"
    widget: "number_field"
#    max: "4"
    min: "0"

  bc_duration:
    label: "Duration of job"
    widget: "text_field"
    help: "Slurm format: DD-HH:MM:SS"

  bc_vnc_resolution:
    required: true

# All of the attributes that make up the Dashboard form (in respective order),
# and made available to the submit configuration file and the template ERB
# files
#
form:
  - cluster
  - bc_image
  - bc_partition
  - bc_duration
  - bc_reservation
  - bc_num_cores
  - bc_num_memory
  - bc_num_gpus
  - bc_vnc_resolution
  - bc_email_on_started
